<!DOCTYPE html>
<html>
<head>
    <!-- Standard Meta -->
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

    <!-- Site Properties -->
    <title>Grid Example - Semantic</title>

    <link rel="stylesheet" type="text/css" href="../lib/Semantic-UI-CSS-master/semantic.min.css">
    <link rel="stylesheet" type="text/css" href="../css/custom.css">

</head>

<body>
<div id="navbar"></div>
<div class="ui clearing segment">
    <div class="ui three column grid">
        <div class="column"></div>
        <span class="column">
                    <p>Already an account ? Go to <a href="./login.html">login page</a></p>

                    <form class="ui form" id="signup" action="?action=signup" method="post" >
                        <h3 class="ui dividing header">Signup</h3>
                        <div class="field">
                            <label>First name</label>
                            <input id="name" type="text" name="firstname" placeholder="John">
                        </div>
                        <div class="required field">
                            <label>last name</label>
                            <input type="text" name="lastname" placeholder="Doe">
                        </div>
                        <div class="required field">
                            <label>email</label>
                            <input type="text" name="email" placeholder="example@contoso.com">
                        </div>

                        <div class="required field">
                            <label>Password</label>
                            <input type="password" name="password" placeholder="Password">
                        </div>


                        <div class="required field">
                            <label>Confirm password</label>
                            <input type="password" name="password_confirm" placeholder="Password">
                        </div>

                        <div class="required field">
                            <label>Starting money</label>
                            <input type="number" name="money" placeholder="Money">
                        </div>


                        <div class="ui primary submit button">Submit</div>
                        <div class="ui reset button">Cancel</div>


                        <div class="ui error message">
                        </div>


                        <div class="ui success message">
                            <div class="header">Form Completed</div>
                            <p>Thank you for signing up.</p>
                        </div>

                    </form>


            <span id="custom_error"></span>
        </span>
    </div>
</div>
<script src="../lib/jquery-3.3.1.min.js"></script>
<script src="../lib/Semantic-UI-CSS-master/semantic.js"></script>
<script src="../js/signup_validation.js"></script>

<script>
    $(document).ready(function(){
        $('#signup').submit(function(){

            //setup variables
            var form = $(this),
                formData = form.serialize(),
                formUrl = form.attr('action'),
                formMethod = form.attr('method'),
                responseMsg = $('#signup-response')

            //show response message - waiting
            responseMsg.hide()
                .addClass('response-waiting')
                .text('Please Wait...')
                .fadeIn(200);

            //send data to server
            $.ajax({
                url: formUrl,
                type: formMethod,
                data: formData,
                success:function(data){
                    //do something when ajax call is complete
                }
            })

            //prevent form from submitting
            return false;
        })
    })


    function check_server() {
        $.ajax({
            type: "POST",
            url: "localhost:5000/users/signup",
            data: data,
            success: success,
            dataType: dataType
        });

        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                document.getElementById("custom_error").innerHTML = this.responseText;
                console.log(this);
            } else {
                document.getElementById("custom_error").innerHTML = '<div class="ui error message"><div class="header"> Server error </div></div>';
            }
        };
        xhttp.open("GET", "https://jsonplaceholder.typicode.com/todos/12", true);
        xhttp.send();
    }
</script>


<script>
    $(function () {
        $("#navbar").load("./navbar.html");
    });
</script>
</body>

</html>
